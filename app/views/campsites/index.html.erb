<style>
  a {
    color: white;
  }
</style>

<div class="container text-dark">
<div class="row">
  <% @campsites.each do |campsite| %>
    <div class="col-sm-4 mb-5">
      <div class="index-card card">
        <% if campsite.photo.attached? %>
          <%= cl_image_tag campsite.photo.key, crop: :fill, class: "card-img-top" %>
        <% else %>
          <%= image_tag "https://images.unsplash.com/photo-1504280390367-361c6d9f38f4?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=3300&q=80", alt: "Card image cap", width: 200, class: "card-img-top" %>
        <% end %>
        <div class="card-body h-100">
          <div>
          <h5 class="card-title"><%= campsite.name %></h5>
          <p class="card-text">Address: <%= campsite.address %></p>
          </div>
          <div>
            <h5 class="card-trip-pricing text-center">Price: Â£<%= campsite.price_per_night %>0</h5>
            <%= link_to campsite_path(campsite.id) do%>
            <button class="btn-lg btn-block btn-primary text-center">More info</button>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  <% end %>
</div>

<div id="map"
     style="width: 100%; height: 600px;"
     data-markers="<%= @markers.to_json %>"
     data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>"></div>
